---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const title = "UpNotify Blog";
const description = "Stay updated with the latest news and tips from UpNotify.";
---

<Layout title={title} description={description}>
  <div class="min-h-screen flex flex-col bg-primary text-secondary font-sans">
    <header class="bg-dark py-4 px-6 flex justify-between items-center border-b-4 border-accent">
      <div class="flex items-center space-x-2">
        <a href="/" class="font-bold text-3xl text-accent transform -rotate-2">UpNotify</a>
      </div>
      <nav class="space-x-6">
        <a href="/blog" class="text-primary hover:text-accent transition-colors font-bold">Blog</a>
      </nav>
    </header>

    <main class="flex-grow container mx-auto px-4 py-12 relative">
      <h1 class="text-4xl font-black text-dark mb-8">UpNotify Blog</h1>
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {posts.map((post) => (
          <a href={`/blog/${post.slug}`} class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <h2 class="text-2xl font-bold text-dark mb-2">{post.data.title}</h2>
            <p class="text-gray-600 mb-4">{new Date(post.data.pubDate).toLocaleDateString()}</p>
            <p class="text-gray-800">{post.data.description}</p>
          </a>
        ))}
      </div>
    </main>

    <footer class="bg-dark py-8 mt-auto border-t-4 border-accent">
      <div class="container mx-auto px-4 text-center text-primary">
        <p class="font-bold">&copy; 2024 UpNotify. All rights reserved.</p>
        <p class="mt-2 font-medium">Empowering freelancers with advanced Upwork job notifications.</p>
      </div>
    </footer>
  </div>
</Layout>